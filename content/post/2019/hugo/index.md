---
title: "hugo养成记"
date: 2019-08-18T15:34:49+08:00
---

# 出租窝装修记
## 背景

刚来北京的时候把自己的博客定义成出租窝，想想和那时候的情景还是很贴合的。现实中有了自己的固定的窝了，但网上的这个窝确荒废了很久了。特别是技术的这个屋子，好久没有收拾了。

平时搜索技术文章的时候，还是能看到一些有毅力的人把自己平时的点点滴滴整理成文章，而自己每年都想重拾的出租窝。一直也没有时间和精力搞，这次的突发事件才发现，如果再不整理的话，就可能什么也没留下。

还记得10多年前一个feed聚合网站搞的一个比赛，每个星期都要写一篇命题博客，真的好痛苦。但是坚持下来又可以收获很多。这么多的益处还是多写写吧。

既然重拾，先定几个大原则：

1. 更新频率：每周更新一篇；
2. 遇到一天没搞定纠结的选择就先选一个；
3. 初期内容为主、表现为辅；
4. 逐步迭代；

总体还是出租窝的title，分为生活屋和技术屋，本次折腾的为技术屋。

## 技术选型

生活屋依旧用WordPress，技术屋转移到github上，为了保险有空的话会在国内也做个镜像。

github上有三个大的阵营：

- jekyll 
- hexo 
- hugo

网上有很多比较 一开始用jekyll 后来用hexo 如今用hugo，理由如下：

1. 一开始生成静态的初期好像只有jekyll，当时hexo还没有太成熟，就选择了jekyll。
2. 后来大家说hexo还可以了，模板还多，比jekyll先进，加上自己并没有几个文章，迁移成本低，就到了hexo。
3. 本以为可以能多写一篇文章了，没想到写了5+文章后就再也没有了下文。
4. 等又反应过来之后，大家开始高举在微服务、k8s上golang的hugo了，而且hexo的生成速度被大家诟病。好吧开始折腾hugo

真是人算不如天算，技术的更新从ruby nodejs 再到golang 还是那句话，工具其实不重要，重要的是内容。虽然工具可能有这样或那样的不适合。但现实情况是有时候还没到不改工具就无法进行下去的节奏。但是，既然大势所趋，迁移成本还是不那么高，那就转成hugo吧。



搜索了下相关文章，这两年在这方面还是有很多变化的：

1. 生成上：写blog也开始用上CI/CD了。
2. 评论上：多说没了 disqus依旧 而github的issues也可以变成评论。
3. 图片上：有一些在线压缩的工具可以继承到CI中，七牛云 微博图床这些不知道是否还好。
4. CDN上：七牛云好像也变了很多、其它云的对象存储+CDN好像大家也开始有所涉及。
5. 主题上：好像大家对于主题没有了以前的热情，唠的涝死旱的旱死，两极分化。
6. 其它：唯一不变的还是用git管理markdown写的文章。

## Git

基础操作这里就略过不讲了三部曲 

1. git add
2. git commit 
3. git push

重点讲一下下面两项

### Git LFS

无论是github还是gitlab目前比较新的版本都支持了LFS，当然也需要git的客户端的版本在1.8.5+ 

这样在上传一些图片或者二进制包的时候不至于记录到git的历史记录里，防止git仓库过大。

git lfs也是三部曲:

1. git lfs install
2. git lfs track "*.png"
3. git add .gitattributes

### Git remote

说实话，这个还没有用上，不过

## CI

## 图片

## 主题









